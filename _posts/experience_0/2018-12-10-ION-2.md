---
layout: post
title: ION - Xinglong Xu
---
Work: develop FPGA-based sound generator module

Topic: hardware development 



Iâ€™m working to complete an **FPFA**-based Sound Generator System. Response time of a cue delivering system is crucial in research, especially neural activity is recorded. However, a typical PC-based system usually suffers from a 20ms delay unless expensive commercial equipment is employed. One solution is to use DDS chips, but it limits the waveform to be only sinusoid-based. 

Hoping for the flexibility of delivering sounds of **arbitrary waveforms** as well as **reduce response delay** to an acceptable level, I decided to customize an FPGA design. It's especially complicated to code for a memory interface controller. As a novice, I dived into the technical datasheets, studied protocols, tested each part many times, and finally pushed to a successful version. The system consists of an FPGA development board with a DDR3 SDRAM for data storage, a USB interface to communicate with the PC host. Output signals are sent to a DAC chip and an amplifier. The system is reliable and flexible -- It ensures the minimal response delay and allows for any arbitrary waveforms. It opens up many possibilities for further experiment design.

The project is still in development, and the [code](https://github.com/xuefei-wang/sound-generator-module) can be found in Github.

The products we used: 

Opal Kelly development board [XEM7320](https://opalkelly.com/products/xem7320/) with Xilinx [Artix-7](https://www.xilinx.com/products/silicon-devices/fpga/artix-7.html) FPGA and Micro DDR3 SDRAM [MT41K256M16TW](https://www.micron.com/products/dram/ddr3-sdram/part-catalog/mt41k256m16tw-107-it)

Opal Kelly DAC chip [SZG-DAC-AD911X](https://opalkelly.com/products/szg-dac-ad911x/)